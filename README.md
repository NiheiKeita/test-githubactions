# GitHub Actions PR Comments Counter

このリポジトリは、GitHub Actionsを使用してプルリクエスト作成時にリポジトリの全PRのコメント数を集計し、結果を表示するワークフローを提供します。



## 機能

- プルリクエスト作成時に自動実行
- リポジトリの全PR（オープン・クローズ・マージ済み）のコメント数を集計
- 以下のコメントタイプを集計：
  - レビューコメント（コードレビュー）
  - レビュー（PRレビュー）
  - Issueコメント（PRのコメント）
- 集計結果をPRにコメントで表示
- 詳細な統計情報を提供

## 集計される情報

| 項目 | 説明 |
|------|------|
| 総PR数 | リポジトリ内の全PR数 |
| 総コメント数 | 全PRのコメント総数 |
| レビューコメント | コードレビュー時の行単位コメント数 |
| レビュー | PRレビュー時のコメント数 |
| Issueコメント | PRのコメント欄のコメント数 |
| 平均コメント数/PR | PRあたりの平均コメント数 |
| コメントがあるPR | コメントが1つ以上あるPR数 |
| コメントがないPR | コメントが0件のPR数 |

## 使用方法

1. このワークフローは、プルリクエストが作成・更新・再オープンされた際に自動的に実行されます
2. 実行結果はPRのコメントで確認できます

## 必要な権限

このワークフローを実行するには、以下の権限が必要です：

- `contents: read` - リポジトリの内容を読み取り
- `pull-requests: read` - プルリクエストを読み取り
- `issues: write` - PRにコメントを投稿

## 注意事項

- GitHub APIのレート制限に注意してください
- 大量のPRがあるリポジトリでは実行時間が長くなる可能性があります
- フォークされたリポジトリからのPRでも動作します

## カスタマイズ

`scripts/count_pr_comments.py`を編集することで、以下のカスタマイズが可能です：

- 集計するコメントタイプの変更
- 追加の統計情報の計算
- フィルタリング条件の追加
- 出力形式の変更

